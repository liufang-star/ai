# Python Flask AI

>æœ¬é¡¹ç›®ä½¿ç”¨äº†`python flask openai`å®ç°ï¼Œæ•°æ®ä¿å­˜åœ¨`mongo`ä¸­ï¼Œ`davinci`æ¨¡å‹ï¼Œè´­ä¹°çš„`openai`è´¦å·ï¼Œå»ºç«‹è‡ªå·±çš„æ–‡æœ¬æ¨¡å‹ã€‚
## éƒ¨ç½²
##### linuxéƒ¨ç½² CentOS7.5ä»¥ä¸Šç‰ˆæœ¬

## cloneé¡¹ç›®
>git clone https://github.com/liufang-star/ai.git

## å‰æœŸå‡†å¤‡å·¥ä½œï¼ˆLinuxç¯å¢ƒä¸‹ï¼‰
### å®‰è£…mongodbæ•°æ®åº“

| æ•°æ®åº“     | ç‰ˆæœ¬     |
|---------|--------|
| mongodb | 5.0.16 |
[mongodbå®˜ç½‘](https://www.mongodb.com/try/download/community)

### å®‰è£…pythonç¼–è¯‘ç¯å¢ƒ

| ç¼–è¯‘ç¯å¢ƒ   | ç‰ˆæœ¬     |
|--------|--------|
| python | 3.10.8 |
[pythonå®˜ç½‘](https://www.python.org/downloads/)

### å®‰è£…pythonæ‰€éœ€ä¾èµ–åº“

| åº“             | ç‰ˆæœ¬          |
|---------------|-------------|
| Flask         | 2.2.2       |
| MarkupSafe    | 2.1.1       |
| openai        | 0.25.0      |
| pymongo       | 4.3.3       |
| python-dotenv | 0.21.1      |
| num2words     | 0.5.12      |
| matplotlib    | 3.7.1       |
| plotly        | 5.14.1      |
| scipy         | 1.10.1      |
| scikit-learn  | 1.2.2       |
| pandas        | 2.0.0       |
| titoken       | 0.3.3       |
| numpy         | 1.24.2      |
| transformers  | 4.28.1      |

###åå°è¿è¡Œpython
`nohup python3 main.py >/dev/null 2>&1 &`

##ä½¿ç”¨dockeréƒ¨ç½²
### ä¿®æ”¹Dockerfileæ–‡ä»¶
`CMD ["python","/code/main.py","-u","root","-p","123456","--host","mongoåœ°å€","--port","27017","--databaseName","chatui"]`
å°†mongoå‡†å¤‡å¥½ï¼Œç”¨æˆ·è´¦å·å¯†ç ï¼Œmongoåœ°å€ç­‰
### ä¿®æ”¹.envæ–‡ä»¶
`OPENAI_API_KEY=sk-xxx`
ä½¿ç”¨openaiçš„api-keyï¼ˆéœ€è¦æœ‰openaiçš„è´¦å·ï¼‰
###ä½¿ç”¨ docker build æ„å»ºimage
`docker build -t me/ai-image:v1 .`
### ä½¿ç”¨ docker run åˆ›å»ºå®¹å™¨å¹¶è¿è¡Œ
`docker run -d --name ai -p 8383:8383 me/ai-image:v1`
##
####æ³¨ï¼šcsvæ–‡ä»¶ä¸»è¦æ˜¯é’ˆå¯¹æˆ‘ä¸ªäººä¸šåŠ¡ï¼Œcsvæ–‡ä»¶å¿…é¡»åŒ…å«è¿™äº”ä¸ªå­—æ®µ
`'Product', 'KeyMessage', 'TextCategory', 'Doc_Name', 'Doc_Link'`

###èµåŠ©
å¦‚æœæ­¤é¡¹ç›®å¯¹ä½ ç¡®å®æœ‰å¸®åŠ©ï¼Œæ¬¢è¿ç»™æˆ‘æ‰“èµä¸€æ¯å’–å•¡ï½ğŸ˜„
![img.png](img.png)
